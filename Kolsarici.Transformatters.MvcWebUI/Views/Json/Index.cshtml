@model Kolsarici.Transformatters.MvcWebUI.Models.BeautifyViewModel
@{
    Layout = "~/Views/_Layout.cshtml";
}
<script>
    function copyToClipboard() {
        var copyText = document.getElementById("beautifiedTextArea");
        copyText.select();
        document.execCommand("Copy");
    }
    var OpenInNewWindow = {

        submit: function (newWindow) {

            if (newWindow) {
                $('#form').attr('target', '_blank');
                $('#form').attr('action', 'BeautifyInNewPage');
                $('#form').attr('method', 'post');
            } else {
                $('#form').attr('target', '_self');
                $('#form').attr('action', 'Index');
                $('#form').attr('method', 'post');
            }

            $('#form').trigger('submit');

        }

    }
</script>

<form id="form" enctype="multipart/form-data">
    <div class="col-md-5">
        <div class="form-group">
            @Html.TextAreaFor(m => m.Beautify.Str, new { @class = "form-control", @rows = "20", id = "first_name" })
        </div>
    </div>
    <div class="col-md-1">
        <div class="form-group">
            <div class="btn-group-vertical">
                <input type="submit" value="Beautify" class="btn btn-xs btn-info" onclick="OpenInNewWindow.submit(false)" />
                <input type="submit" value="Beautify In New Page" class="btn btn-xs btn-info" onclick="OpenInNewWindow.submit(true)" />
                <input type="button" value="Copy To Clipboard" class="btn btn-xs btn-info" onClick="copyToClipboard();">
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="form-group">
            @Html.TextAreaFor(m => m.Beautify.BeautifiedStr, new { @class = "form-control", @rows = "100" , id= "beautifiedTextArea" })
        </div>
    </div>
</form>



